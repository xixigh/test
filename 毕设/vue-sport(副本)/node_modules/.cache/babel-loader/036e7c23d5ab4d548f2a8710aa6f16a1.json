{"remainingRequest":"C:\\Java\\Java-Code\\healthy\\vue-healthy\\node_modules\\babel-loader\\lib\\index.js!C:\\Java\\Java-Code\\healthy\\vue-healthy\\src\\plugins\\axios.js","dependencies":[{"path":"C:\\Java\\Java-Code\\healthy\\vue-healthy\\src\\plugins\\axios.js","mtime":1624777965426},{"path":"C:\\Java\\Java-Code\\healthy\\vue-healthy\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Java\\Java-Code\\healthy\\vue-healthy\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICd2dWUnOyAvL+W8leWFpWF4aW9zCgppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOyAvL+W8leWFpWVsZW1lbnQgdWkgbWVzc2FnZQoKaW1wb3J0IHsgTWVzc2FnZSB9IGZyb20gJ2VsZW1lbnQtdWknOyAvL+mFjee9ruivt+axguaLpuaIquWZqAoKYXhpb3MuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChjb25maWcpIHsKICB2YXIgdG9rZW4gPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpOyAvL+WmguaenOWtmOWcqHRva2Vu77yM5YiZ5bCG5pC65bimdG9rZW4KCiAgaWYgKHRva2VuKSB7CiAgICBjb25maWcuaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID0gdG9rZW47CiAgfQoKICByZXR1cm4gY29uZmlnOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICBjb25zb2xlLmxvZyhlcnJvcik7Cn0pOyAvL+WTjeW6lAoKYXhpb3MuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzKSB7CiAgaWYgKHJlcy5kYXRhLm1lc3NhZ2UgPT09ICfmgqjlsJrmnKrnmbvlvZXvvIzor7fnmbvlvZXvvIEnKSB7CiAgICBzZXNzaW9uU3RvcmFnZS5jbGVhcigpOwogIH0KCiAgcmV0dXJuIHJlczsKfSwgZnVuY3Rpb24gKGVycikgewogIGlmIChlcnIucmVzcG9uc2Uuc3RhdHVzID09PSA0MDApIHsKICAgIE1lc3NhZ2Uud2FybmluZyhlcnIucmVzcG9uc2UuZGF0YS5tZXNzYWdlKTsKICB9IGVsc2UgaWYgKGVyci5yZXNwb25zZS5zdGF0dXMgPT09IDQwNSkgewogICAgTWVzc2FnZS53YXJuaW5nKGVyci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UpOwogIH0gZWxzZSBpZiAoZXJyLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDAzKSB7CiAgICBNZXNzYWdlLndhcm5pbmcoJ+adg+mZkOS4jei2s++8jOivt+iBlOezu+euoeeQhuWRmO+8gScpOwogIH0gZWxzZSBpZiAoZXJyLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSB7CiAgICBzZXNzaW9uU3RvcmFnZS5jbGVhcigpOwogICAgTWVzc2FnZS53YXJuaW5nKCfmnKrnmbvlvZXvvIzor7fliLfmlrDlkI7nmbvlvZXlho3mk43kvZzvvIEnKTsKICB9IGVsc2UgaWYgKGVyci5yZXNwb25zZS5zdGF0dXMgPT09IDUwMCkgewogICAgaWYgKGVyci5yZXNwb25zZS5zdGF0dXNUZXh0ID09PSAnSW50ZXJuYWwgU2VydmVyIEVycm9yJykgewogICAgICBNZXNzYWdlLmVycm9yKCflkI7nq6/mnKrlkK/liqjvvIEnKTsKICAgIH0KCiAgICBpZiAoZXJyLnJlc3BvbnNlLmRhdGEubWVzc2FnZSA9PT0gJ05ldHdvcmsgRXJyb3InKSB7CiAgICAgIE1lc3NhZ2Uud2FybmluZygn572R57uc6ZSZ6K+v77yM6K+356iN5ZCO5bCd6K+V77yBJyk7CiAgICB9IGVsc2UgaWYgKGVyci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UgPT09ICfmgqjlsJrmnKrnmbvlvZXvvIzor7fnmbvlvZXvvIEnKSB7CiAgICAgIGNvbnNvbGUubG9nKCfmgqjlsJrmnKrnmbvlvZXvvIzor7fnmbvlvZXvvIEnKTsKICAgIH0gZWxzZSB7CiAgICAgIE1lc3NhZ2Uud2FybmluZyhlcnIucmVzcG9uc2UuZGF0YS5tZXNzYWdlKTsKICAgIH0KICB9IGVsc2UgewogICAgTWVzc2FnZS53YXJuaW5nKCfmnKrnn6XplJnor68uLi4uLi4nKTsKICB9Cn0pOwpWdWUucHJvdG90eXBlLiRhamF4ID0gYXhpb3M7IC8v6YWN572uYXhpb3Porr/pl67moLnot6/lvoQKLy9heGlvcy5kZWZhdWx0cy5iYXNlVVJMID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6OTAwMC92dWUnOwovL+WFgeiuuOaQuuW4pmNvb2tpZQovLyBheGlvcy5kZWZhdWx0cy53aXRoQ3JlZGVudGlhbHPCoD3CoHRydWU7Ci8vIC8v6YWN572u5oum5oiq5ZmoCi8vIGNvbnN0IHJlcSA9IGF4aW9zLmNyZWF0ZSgpOwovLyByZXEuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKChjb25maWcpID0+IHsKLy8gICAgIGNvbmZpZy5oZWFkZXJzLmF1dGhvcml6YXRpb24gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTsKLy8gICAgIHJldHVybiBjb25maWc7Ci8vIH0pOwovLyByZXEuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZSgocmVzKSA9PiB7Ci8vICAgICByZXR1cm4gcmVzOwovLyB9LCAoZXJyKSA9PiB7Ci8vICAgICBpZiAoZXJyLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSB7Ci8vICAgICB9Ci8vIH0pOwovL+iuqVZ1ZeaMgui9vWF4aW9z"},{"version":3,"sources":["C:/Java/Java-Code/healthy/vue-healthy/src/plugins/axios.js"],"names":["Vue","axios","Message","interceptors","request","use","config","token","sessionStorage","getItem","headers","error","console","log","response","res","data","message","clear","err","status","warning","statusText","prototype","$ajax"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB,C,CACA;;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CACA;;AACA,SAAQC,OAAR,QAAsB,YAAtB,C,CACA;;AACAD,KAAK,CAACE,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAA+B,UAACC,MAAD,EAAY;AACvC,MAAIC,KAAK,GAAGC,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAAZ,CADuC,CAEvC;;AACA,MAAIF,KAAJ,EAAW;AACPD,IAAAA,MAAM,CAACI,OAAP,CAAe,eAAf,IAAkCH,KAAlC;AACH;;AACD,SAAOD,MAAP;AACH,CAPD,EAOG,UAACK,KAAD,EAAW;AACVC,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,CATD,E,CAWA;;AACAV,KAAK,CAACE,YAAN,CAAmBW,QAAnB,CAA4BT,GAA5B,CAAgC,UAACU,GAAD,EAAS;AACrC,MAAIA,GAAG,CAACC,IAAJ,CAASC,OAAT,KAAqB,YAAzB,EAAuC;AACnCT,IAAAA,cAAc,CAACU,KAAf;AACH;;AACD,SAAOH,GAAP;AACH,CALD,EAKG,UAACI,GAAD,EAAS;AACR,MAAIA,GAAG,CAACL,QAAJ,CAAaM,MAAb,KAAwB,GAA5B,EAAiC;AAC7BlB,IAAAA,OAAO,CAACmB,OAAR,CAAgBF,GAAG,CAACL,QAAJ,CAAaE,IAAb,CAAkBC,OAAlC;AACH,GAFD,MAEO,IAAIE,GAAG,CAACL,QAAJ,CAAaM,MAAb,KAAwB,GAA5B,EAAiC;AACpClB,IAAAA,OAAO,CAACmB,OAAR,CAAgBF,GAAG,CAACL,QAAJ,CAAaE,IAAb,CAAkBC,OAAlC;AACH,GAFM,MAEA,IAAIE,GAAG,CAACL,QAAJ,CAAaM,MAAb,KAAwB,GAA5B,EAAiC;AACpClB,IAAAA,OAAO,CAACmB,OAAR,CAAgB,cAAhB;AACH,GAFM,MAEA,IAAIF,GAAG,CAACL,QAAJ,CAAaM,MAAb,KAAwB,GAA5B,EAAiC;AACpCZ,IAAAA,cAAc,CAACU,KAAf;AACAhB,IAAAA,OAAO,CAACmB,OAAR,CAAgB,gBAAhB;AACH,GAHM,MAGA,IAAIF,GAAG,CAACL,QAAJ,CAAaM,MAAb,KAAwB,GAA5B,EAAiC;AACpC,QAAID,GAAG,CAACL,QAAJ,CAAaQ,UAAb,KAA4B,uBAAhC,EAAyD;AACrDpB,MAAAA,OAAO,CAACS,KAAR,CAAc,QAAd;AACH;;AACD,QAAGQ,GAAG,CAACL,QAAJ,CAAaE,IAAb,CAAkBC,OAAlB,KAA8B,eAAjC,EAAkD;AAC9Cf,MAAAA,OAAO,CAACmB,OAAR,CAAgB,aAAhB;AACH,KAFD,MAEO,IAAIF,GAAG,CAACL,QAAJ,CAAaE,IAAb,CAAkBC,OAAlB,KAA8B,YAAlC,EAAgD;AACnDL,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACH,KAFM,MAEA;AACHX,MAAAA,OAAO,CAACmB,OAAR,CAAgBF,GAAG,CAACL,QAAJ,CAAaE,IAAb,CAAkBC,OAAlC;AACH;AACJ,GAXM,MAWA;AACHf,IAAAA,OAAO,CAACmB,OAAR,CAAgB,YAAhB;AACH;AACJ,CA7BD;AA8BArB,GAAG,CAACuB,SAAJ,CAAcC,KAAd,GAAsBvB,KAAtB,C,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA","sourcesContent":["import Vue from 'vue';\r\n//引入axios\r\nimport axios from 'axios';\r\n//引入element ui message\r\nimport {Message} from 'element-ui';\r\n//配置请求拦截器\r\naxios.interceptors.request.use((config) => {\r\n    let token = sessionStorage.getItem('token');\r\n    //如果存在token，则将携带token\r\n    if (token) {\r\n        config.headers['Authorization'] = token;\r\n    }\r\n    return config;\r\n}, (error) => {\r\n    console.log(error);\r\n});\r\n\r\n//响应\r\naxios.interceptors.response.use((res) => {\r\n    if (res.data.message === '您尚未登录，请登录！') {\r\n        sessionStorage.clear();\r\n    }\r\n    return res;\r\n}, (err) => {\r\n    if (err.response.status === 400) {\r\n        Message.warning(err.response.data.message);\r\n    } else if (err.response.status === 405) {\r\n        Message.warning(err.response.data.message);\r\n    } else if (err.response.status === 403) {\r\n        Message.warning('权限不足，请联系管理员！');\r\n    } else if (err.response.status === 401) {\r\n        sessionStorage.clear();\r\n        Message.warning('未登录，请刷新后登录再操作！');\r\n    } else if (err.response.status === 500) {\r\n        if (err.response.statusText === 'Internal Server Error') {\r\n            Message.error('后端未启动！');\r\n        }\r\n        if(err.response.data.message === 'Network Error') {\r\n            Message.warning('网络错误，请稍后尝试！');\r\n        } else if (err.response.data.message === '您尚未登录，请登录！') {\r\n            console.log('您尚未登录，请登录！');\r\n        } else {\r\n            Message.warning(err.response.data.message);\r\n        }\r\n    } else {\r\n        Message.warning('未知错误......');\r\n    }\r\n});\r\nVue.prototype.$ajax = axios;\r\n//配置axios访问根路径\r\n//axios.defaults.baseURL = 'http://localhost:9000/vue';\r\n//允许携带cookie\r\n// axios.defaults.withCredentials = true;\r\n// //配置拦截器\r\n// const req = axios.create();\r\n// req.interceptors.request.use((config) => {\r\n//     config.headers.authorization = localStorage.getItem('token');\r\n//     return config;\r\n// });\r\n\r\n// req.interceptors.response.use((res) => {\r\n//     return res;\r\n// }, (err) => {\r\n//     if (err.response.status === 401) {\r\n\r\n//     }\r\n// });\r\n//让Vue挂载axios"]}]}