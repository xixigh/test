{"remainingRequest":"/home/umlinux/IdeaProjects/毕设/vue-sport/node_modules/babel-loader/lib/index.js!/home/umlinux/IdeaProjects/毕设/vue-sport/src/plugins/permission.js","dependencies":[{"path":"/home/umlinux/IdeaProjects/毕设/vue-sport/src/plugins/permission.js","mtime":1625907124000},{"path":"/home/umlinux/IdeaProjects/毕设/vue-sport/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/umlinux/IdeaProjects/毕设/vue-sport/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29tZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgc3RvcmUgZnJvbSAiQC9zdG9yZSI7Ci8qKg0KICog5p2D6ZmQ5pWw5o2u6Ieq5a6a5LmJ5oyH5LukDQogKi8KClZ1ZS5kaXJlY3RpdmUoJ2hhc1Blcm1pJywgewogIGluc2VydGVkOiBmdW5jdGlvbiBpbnNlcnRlZChlbCwgYmluZGluZykgewogICAgLy/mjInpkq7mnYPpmZAKICAgIHZhciB2YWx1ZSA9IGJpbmRpbmcudmFsdWU7IC8v55So5oi35p2D6ZmQCgogICAgdmFyIHBlcm1pc3Npb24gPSBzdG9yZS5zdGF0ZS5wcmVtaXNzaW9uczsKICAgIGNvbnNvbGUubG9nKHBlcm1pc3Npb24pOwoKICAgIGlmICh2YWx1ZSAmJiB2YWx1ZSBpbnN0YW5jZW9mIEFycmF5ICYmIHZhbHVlLmxlbmd0aCA+IDApIHsKICAgICAgdmFyIHZhbHVlRmxhZyA9IHZhbHVlOyAvL+i/reS7o+afpeaJvuWFg+e0oAoKICAgICAgdmFyIGhhc1Blcm1pID0gcGVybWlzc2lvbi5zb21lKGZ1bmN0aW9uIChwZXIpIHsKICAgICAgICByZXR1cm4gdmFsdWVGbGFnLmluY2x1ZGVzKHBlcik7CiAgICAgIH0pOyAvL+S4jeWtmOWcqOivpeadg+mZkAoKICAgICAgaWYgKCFoYXNQZXJtaSkgewogICAgICAgIGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWwpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ+ivt+iuvue9ruaTjeS9nOadg+mZkOagh+etvuWAvCcpOwogICAgfQogIH0KfSk7ClZ1ZS5kaXJlY3RpdmUoJ2hhc1JvbGUnLCB7CiAgaW5zZXJ0ZWQ6IGZ1bmN0aW9uIGluc2VydGVkKGVsLCBiaW5kaW5nKSB7CiAgICB2YXIgdmFsdWUgPSBiaW5kaW5nLnZhbHVlOwogICAgdmFyIHJvbGVzID0gc3RvcmUuc3RhdGUucm9sZXM7CgogICAgaWYgKHJvbGVzICYmIHJvbGVzIGluc3RhbmNlb2YgQXJyYXkgJiYgcm9sZXMubGVuZ3RoID4gMCkgewogICAgICB2YXIgdmFsdWVGbGFnID0gdmFsdWU7CiAgICAgIHZhciBoYXNSb2xlID0gcm9sZXMuc29tZShmdW5jdGlvbiAocm9sZSkgewogICAgICAgIHJldHVybiB2YWx1ZUZsYWcuaW5jbHVkZXMocm9sZSk7CiAgICAgIH0pOwoKICAgICAgaWYgKCFoYXNSb2xlKSB7CiAgICAgICAgZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbCk7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHRocm93IG5ldyBFcnJvcign6K+36K6+572u5pON5L2c6KeS6Imy5qCH562+5YC8Jyk7CiAgICB9CiAgfQp9KTs="},{"version":3,"sources":["/home/umlinux/IdeaProjects/毕设/vue-sport/src/plugins/permission.js"],"names":["Vue","store","directive","inserted","el","binding","value","permission","state","premissions","console","log","Array","length","valueFlag","hasPermi","some","per","includes","parentNode","removeChild","Error","roles","hasRole","role"],"mappings":";;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AAEA;AACA;AACA;;AACAD,GAAG,CAACE,SAAJ,CAAc,UAAd,EAA0B;AACtBC,EAAAA,QADsB,oBACbC,EADa,EACTC,OADS,EACA;AAClB;AADkB,QAEVC,KAFU,GAEAD,OAFA,CAEVC,KAFU,EAGlB;;AACA,QAAMC,UAAU,GAAGN,KAAK,CAACO,KAAN,CAAYC,WAA/B;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYJ,UAAZ;;AACA,QAAID,KAAK,IAAIA,KAAK,YAAYM,KAA1B,IAAmCN,KAAK,CAACO,MAAN,GAAe,CAAtD,EAAyD;AACrD,UAAMC,SAAS,GAAGR,KAAlB,CADqD,CAErD;;AACA,UAAMS,QAAQ,GAAGR,UAAU,CAACS,IAAX,CAAgB,UAAAC,GAAG,EAAI;AACpC,eAAOH,SAAS,CAACI,QAAV,CAAmBD,GAAnB,CAAP;AACH,OAFgB,CAAjB,CAHqD,CAMrD;;AACA,UAAI,CAACF,QAAL,EAAe;AACXX,QAAAA,EAAE,CAACe,UAAH,CAAcC,WAAd,CAA0BhB,EAA1B;AACH;AACJ,KAVD,MAUO;AACH,YAAM,IAAIiB,KAAJ,CAAU,YAAV,CAAN;AACH;AACJ;AApBqB,CAA1B;AAuBArB,GAAG,CAACE,SAAJ,CAAc,SAAd,EAAyB;AACtBC,EAAAA,QADsB,oBACbC,EADa,EACTC,OADS,EACA;AAAA,QACVC,KADU,GACAD,OADA,CACVC,KADU;AAElB,QAAMgB,KAAK,GAAGrB,KAAK,CAACO,KAAN,CAAYc,KAA1B;;AACA,QAAIA,KAAK,IAAIA,KAAK,YAAYV,KAA1B,IAAmCU,KAAK,CAACT,MAAN,GAAe,CAAtD,EAAyD;AACrD,UAAMC,SAAS,GAAGR,KAAlB;AACA,UAAMiB,OAAO,GAAGD,KAAK,CAACN,IAAN,CAAW,UAAAQ,IAAI,EAAI;AAC/B,eAAOV,SAAS,CAACI,QAAV,CAAmBM,IAAnB,CAAP;AACH,OAFe,CAAhB;;AAGA,UAAI,CAACD,OAAL,EAAc;AACVnB,QAAAA,EAAE,CAACe,UAAH,CAAcC,WAAd,CAA0BhB,EAA1B;AACH;AACJ,KARD,MAQO;AACH,YAAM,IAAIiB,KAAJ,CAAU,YAAV,CAAN;AACH;AACJ;AAfqB,CAAzB","sourcesContent":["import Vue from 'vue';\r\nimport store from \"@/store\";\r\n\r\n/**\r\n * 权限数据自定义指令\r\n */\r\nVue.directive('hasPermi', {\r\n    inserted(el, binding) {\r\n        //按钮权限\r\n        const { value } = binding;\r\n        //用户权限\r\n        const permission = store.state.premissions;\r\n        console.log(permission);\r\n        if (value && value instanceof Array && value.length > 0) {\r\n            const valueFlag = value;\r\n            //迭代查找元素\r\n            const hasPermi = permission.some(per => {\r\n                return valueFlag.includes(per);\r\n            });\r\n            //不存在该权限\r\n            if (!hasPermi) {\r\n                el.parentNode.removeChild(el);\r\n            }\r\n        } else {\r\n            throw new Error('请设置操作权限标签值')\r\n        }\r\n    }\r\n});\r\n\r\nVue.directive('hasRole', {\r\n   inserted(el, binding) {\r\n       const { value } = binding;\r\n       const roles = store.state.roles;\r\n       if (roles && roles instanceof Array && roles.length > 0) {\r\n           const valueFlag = value;\r\n           const hasRole = roles.some(role => {\r\n               return valueFlag.includes(role);\r\n           });\r\n           if (!hasRole) {\r\n               el.parentNode.removeChild(el);\r\n           }\r\n       } else {\r\n           throw new Error('请设置操作角色标签值');\r\n       }\r\n   }\r\n});"]}]}