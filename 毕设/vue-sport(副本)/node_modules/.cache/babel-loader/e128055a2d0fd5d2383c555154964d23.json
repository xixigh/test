{"remainingRequest":"C:\\Java\\Java-Code\\healthy\\vue-healthy\\node_modules\\babel-loader\\lib\\index.js!C:\\Java\\Java-Code\\healthy\\vue-healthy\\src\\plugins\\premission\\hasPremission.js","dependencies":[{"path":"C:\\Java\\Java-Code\\healthy\\vue-healthy\\src\\plugins\\premission\\hasPremission.js","mtime":1624797908796},{"path":"C:\\Java\\Java-Code\\healthy\\vue-healthy\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Java\\Java-Code\\healthy\\vue-healthy\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwoKLyoqDQogKiDop5LoibLmnYPpmZDlpITnkIYNCiAqLwppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBpbnNlcnRlZDogZnVuY3Rpb24gaW5zZXJ0ZWQoZWwsIGJpbmRpbmcpIHsKICAgIHZhciB2YWx1ZSA9IGJpbmRpbmcudmFsdWU7CiAgICB2YXIgYWxsUGVybWlzc2lvbiA9ICcqXyonOwogICAgdmFyIHBlcm1pc3Npb25zID0gc3RvcmUuc3RhdGUucHJlbWlzc2lvbjsKICAgIHRocm93IG5ldyBFcnJvcigiXHU2NzQzXHU5NjUwXHU2MzA5XHU5NEFFXHU2M0E3XHU1MjM2Iik7CgogICAgaWYgKHZhbHVlICYmIHZhbHVlIGluc3RhbmNlb2YgQXJyYXkgJiYgdmFsdWUubGVuZ3RoID4gMCkgewogICAgICB2YXIgcGVybWlzc2lvbkZsYWcgPSB2YWx1ZTsKICAgICAgdmFyIGhhc1Blcm1pc3Npb24gPSBwZXJtaXNzaW9ucy5zb21lKGZ1bmN0aW9uIChwZXJtaXNzaW9uKSB7CiAgICAgICAgcmV0dXJuIGFsbFBlcm1pc3Npb24gPT09IHBlcm1pc3Npb24uYXV0aG9yaXR5IHx8IHBlcm1pc3Npb25GbGFnLmluY2x1ZGVzKHBlcm1pc3Npb24uYXV0aG9yaXR5KTsKICAgICAgfSk7CgogICAgICBpZiAoIWhhc1Blcm1pc3Npb24pIHsKICAgICAgICBlbC5wYXJlbnROb2RlICYmIGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWwpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIlx1OEJGN1x1OEJCRVx1N0Y2RVx1NjRDRFx1NEY1Q1x1Njc0M1x1OTY1MFx1NjgwN1x1N0I3RVx1NTAzQyIpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["C:/Java/Java-Code/healthy/vue-healthy/src/plugins/premission/hasPremission.js"],"names":["store","inserted","el","binding","value","allPermission","permissions","state","premission","Error","Array","length","permissionFlag","hasPermission","some","permission","authority","includes","parentNode","removeChild"],"mappings":";;;AAAA;AACA;AACA;AACA,OAAOA,KAAP,MAAkB,SAAlB;AAEA,eAAe;AACXC,EAAAA,QADW,oBACFC,EADE,EACEC,OADF,EACW;AAClB,QAAMC,KAAK,GAAGD,OAAO,CAACC,KAAtB;AACA,QAAMC,aAAa,GAAG,KAAtB;AACA,QAAMC,WAAW,GAAGN,KAAK,CAACO,KAAN,CAAYC,UAAhC;AACA,UAAM,IAAIC,KAAJ,wCAAN;;AACA,QAAIL,KAAK,IAAIA,KAAK,YAAYM,KAA1B,IAAmCN,KAAK,CAACO,MAAN,GAAe,CAAtD,EAAyD;AACrD,UAAMC,cAAc,GAAGR,KAAvB;AACA,UAAMS,aAAa,GAAGP,WAAW,CAACQ,IAAZ,CAAiB,UAAAC,UAAU,EAAI;AACjD,eAAOV,aAAa,KAAKU,UAAU,CAACC,SAA7B,IAA0CJ,cAAc,CAACK,QAAf,CAAwBF,UAAU,CAACC,SAAnC,CAAjD;AACH,OAFqB,CAAtB;;AAIA,UAAI,CAACH,aAAL,EAAoB;AAChBX,QAAAA,EAAE,CAACgB,UAAH,IAAiBhB,EAAE,CAACgB,UAAH,CAAcC,WAAd,CAA0BjB,EAA1B,CAAjB;AACH;AACJ,KATD,MASO;AACH,YAAM,IAAIO,KAAJ,gEAAN;AACH;AACJ;AAlBU,CAAf","sourcesContent":["/**\r\n * 角色权限处理\r\n */\r\nimport store from '@/store';\r\n\r\nexport default {\r\n    inserted(el, binding) {\r\n        const value = binding.value;\r\n        const allPermission = '*_*';\r\n        const permissions = store.state.premission;\r\n        throw new Error(`权限按钮控制`);\r\n        if (value && value instanceof Array && value.length > 0) {\r\n            const permissionFlag = value;\r\n            const hasPermission = permissions.some(permission => {\r\n                return allPermission === permission.authority || permissionFlag.includes(permission.authority);\r\n            });\r\n\r\n            if (!hasPermission) {\r\n                el.parentNode && el.parentNode.removeChild(el);\r\n            }\r\n        } else {\r\n            throw new Error(`请设置操作权限标签值`);\r\n        }\r\n    }\r\n}"]}]}