{"remainingRequest":"D:\\Java-code\\healthy\\vue-healthy\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Java-code\\healthy\\vue-healthy\\src\\views\\submenu\\Sport.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Java-code\\healthy\\vue-healthy\\src\\views\\submenu\\Sport.vue","mtime":1618565501950},{"path":"D:\\Java-code\\healthy\\vue-healthy\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Java-code\\healthy\\vue-healthy\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Java-code\\healthy\\vue-healthy\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Java-code\\healthy\\vue-healthy\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgZGF0YSgpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIHF1ZXJ5SW5mbzogew0KICAgICAgICAgICAgICAgIHBhZ2VOdW1iZXI6IDEsDQogICAgICAgICAgICAgICAgcGFnZVNpemU6IDUsDQogICAgICAgICAgICAgICAgcXVlcnlTdHJpbmc6ICcnDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgdGFibGVEYXRhOiBbXSwgLy/mlbDmja7liJfooagNCiAgICAgICAgICAgIHRvdGFsOiAwLCAvL+aVsOaNruaAu+iusOW9leaVsA0KICAgICAgICAgICAgYWRkRGlhbG9nVmlzaWJsZTogZmFsc2UsIC8v6buY6K6k5bGP6JS95re75Yqg5a+56K+d5qGGDQogICAgICAgICAgICBhZGRGb3JtOiB7fSwNCiAgICAgICAgICAgIC8v5re75Yqg6L+Q5Yqo5L+h5oGv55qE5qCh6aqM6KeE5YiZDQogICAgICAgICAgICBhZGRGb3JtUnVsZXM6e30sIA0KICAgICAgICB9DQogICAgfSwNCiAgICBjcmVhdGVkKCkgew0KICAgICAgICB0aGlzLmZpbmRQYWdlKCk7DQogICAgfSwNCiAgICBtZXRob2RzOiB7DQogICAgICAgIC8v5byC5q2l5Yqg6L29DQogICAgICAgIGFzeW5jIGZpbmRQYWdlKCkgew0KICAgICAgICAgICAgdGhpcy4kYWpheC5wb3N0KCcvc3BvcnQvZmluZFBhZ2UnLCB0aGlzLnF1ZXJ5SW5mbykudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgICAgICAgaWYgKCFyZXMuZGF0YS5mbGFnKSByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMuZGF0YS5tZXNzYWdlKTsNCiAgICAgICAgICAgICAgICAvL+e7meWIl+ihqOi1i+WAvA0KICAgICAgICAgICAgICAgIHRoaXMudGFibGVEYXRhID0gcmVzLmRhdGEuZGF0YS5yb3dzOw0KICAgICAgICAgICAgICAgIHRoaXMudG90YWwgPSByZXMuZGF0YS5kYXRhLnRvdGFsOw0KICAgICAgICAgICAgfSkuY2F0Y2goKGVycikgPT4gew0KICAgICAgICAgICAgICAgIGlmIChlcnIucmVxdWVzdC5zdGF0dXMgPT0gNDAwKSByZXR1cm4gdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfor7fmsYLplJnor6/vvIEnKTsNCiAgICAgICAgICAgICAgICBpZiAoZXJyLnJlcXVlc3Quc3RhdHVzID09IDUwMCkgcmV0dXJuIHRoaXMuJG1lc3NhZ2Uud2FybmluZygn5pWw5o2u6K+35rGC5aSx6LSl77yM6K+356iN5ZCO5YaN6K+V77yBJyk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSwNCiAgICAgICAgLy/pobXmlbDlj5HnlJ/nvJbnoIENCiAgICAgICAgaGFuZGxlU2l6ZUNoYW5nZShuZXdQYWdlU2l6ZSkgew0KICAgICAgICAgICAgdGhpcy5xdWVyeUluZm8ucGFnZVNpemUgPSBuZXdQYWdlU2l6ZTsNCiAgICAgICAgICAgIHRoaXMuZmluZFBhZ2UoKTsNCiAgICAgICAgfSwNCiAgICAgICAgLy/pobXnoIHlj5HnlJ/lj5jljJYNCiAgICAgICAgaGFuZGxlQ3VycmVudENoYW5nZShuZXdQYWdlTnVtYmVyKSB7DQogICAgICAgICAgICB0aGlzLnF1ZXJ5SW5mby5wYWdlTnVtYmVyID0gbmV3UGFnZU51bWJlcjsNCiAgICAgICAgICAgIHRoaXMuZmluZFBhZ2UoKTsNCiAgICAgICAgfSwNCiAgICAgICAgYWRkRGlhbG9nQ2xvc2VkKCkgew0KICAgICAgICAgICAgLy/muIXnqbrmlbDmja4NCiAgICAgICAgICAgIHRoaXMuYWRkRm9ybSA9IHt9Ow0KICAgICAgICAgICAgdGhpcy4kcmVmcy5hZGRGb3JtUmVmLnJlc2V0RmllbGRzKCk7Ly8g6YeN572u6KGo5Y2VDQogICAgICAgIH0sDQogICAgICAgIC8v5Zu+54mH6YCJ5oup5qCh6aqMDQogICAgICAgIGltYWdlVmFsaWRhdGUoZmlsZSkgew0KICAgICAgICAgICAgaWYgKGZpbGUudHlwZSAhPSAnaW1hZ2UvanBlZycgJiYgZmlsZS50eXBlICE9ICdpbWFnZS9wbmcnKSB7DQogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfmlofku7bku4XmlK/mjIFQTkfjgIFKUOagvOW8j++8gScpOw0KICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChmaWxlLnNpemUgLyAxMDI0IC8gMTAyNCA+IDMpIHsNCiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+WbvueJh+Wkp+Wwj+S4jeiDvei2hei/hyAzTULvvIEnKQ0KICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9LA0KICAgICAgICAvL+e8lui+keWZqOWbvueJh+S4iuS8oA0KICAgICAgICB1cGxvYWRJbWcocG9zLCBmaWxlKSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmltYWdlRmlsZXMpOw0KICAgICAgICAgICAgaWYgKHRoaXMuaW1hZ2VWYWxpZGF0ZShmaWxlKSkgew0KICAgICAgICAgICAgICAgIC8vIGxldCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOw0KICAgICAgICAgICAgICAgIC8vIGZvcm1EYXRhLmFwcGVuZCgnaW1hZ2UnLCBmaWxlKTsNCiAgICAgICAgICAgICAgICAvLyAvL+WbvueJh+S4iuS8oCB1cmwgZGF0YSBoZWFkZXJzDQogICAgICAgICAgICAgICAgLy8gdGhpcy4kYWpheC5wb3N0KCcvdXBsb2FkL21hcmtkb3duJywgZm9ybURhdGEsIHsgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJyB9KS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgICAgICAvLyAgICAgaWYgKCFyZXMuZGF0YS5mbGFnKSByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMuZGF0YS5tZXNzYWdlKTsNCiAgICAgICAgICAgICAgICAvLyAgICAgLy/lm57mmL4NCiAgICAgICAgICAgICAgICAvLyAgICAgdGhpcy4kcmVmcy5tZC4kaW1nMlVybChwb3MsICdodHRwOi8vcXJuODN5dHhuLmhuLWJrdC5jbG91ZGRuLmNvbS8nICsgcmVzLmRhdGEuZGF0YSk7DQogICAgICAgICAgICAgICAgLy8gfSk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuJHJlZnMubWQpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICAvL+a3u+WKoOi/kOWKqOS/oeaBrw0KICAgICAgICBhZGRCdG4oKSB7DQogICAgICAgICAgICB0aGlzLiRyZWZzLmFkZEZvcm1SZWYudmFsaWRhdGUoKHZhbGlkKSA9PiB7DQogICAgICAgICAgICAgICAgaWYgKCF2YWxpZCkgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+aVsOaNruagoemqjOWksei0pe+8gScpOw0KDQogICAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgIH0NCn0NCg=="},{"version":3,"sources":["Sport.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Sport.vue","sourceRoot":"src/views/submenu","sourcesContent":["<template>\r\n    <div>\r\n        <!-- 面包屑导航 -->\r\n        <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n            <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n            <el-breadcrumb-item>数据管理</el-breadcrumb-item>\r\n            <el-breadcrumb-item>运动模块</el-breadcrumb-item>\r\n        </el-breadcrumb>\r\n        <!-- 卡片视图区 -->\r\n        <el-card>\r\n            <el-row :gutter=\"25\">\r\n                <el-col :span=\"10\">\r\n                    <!-- 搜索添加 -->\r\n                    <el-input placeholder=\"请输入搜索内容\" v-model=\"queryInfo.queryString\" clearable @clear=\"findPage\">\r\n                        <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"findPage\"></el-button>\r\n                    </el-input>\r\n                </el-col>\r\n                <el-col :span=\"2\">\r\n                    <el-button type=\"primary\" @click=\"addDialogVisible = true\">添加运动</el-button>\r\n                </el-col>\r\n            </el-row>\r\n            <el-table :data=\"tableData\" style=\"width: 100%\">\r\n                <el-table-column type=\"expand\">\r\n                    <template slot-scope=\"props\">\r\n                        <el-form label-position=\"left\" inline class=\"demo-table-expand\">\r\n                            <el-form-item label=\"运动概述\">\r\n                                <span>{{ props.row.introduction }}</span>\r\n                            </el-form-item>\r\n                        </el-form>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"运动名称\" prop=\"name\"></el-table-column>\r\n                <el-table-column label=\"适用年龄\" prop=\"applicableAge\"></el-table-column>\r\n                <el-table-column label=\"受益部位\" prop=\"beneficialPosition\"></el-table-column>\r\n            </el-table>\r\n            <!-- 分页 -->\r\n            <el-pagination\r\n                @size-change=\"handleSizeChange\"\r\n                @current-change=\"handleCurrentChange\"\r\n                :current-page=\"queryInfo.pageNumber\"\r\n                :page-sizes=\"[5, 10, 20, 50]\"\r\n                :page-size=\"queryInfo.pageSize\"\r\n                layout=\"total, sizes, prev, pager, next, jumper\"\r\n                :total=\"total\"/>\r\n        </el-card>\r\n        <!-- 添加运动项目对话框 -->\r\n        <el-dialog title=\"添加运动\" :visible.sync=\"addDialogVisible\" width=\"75%\" @close=\"addDialogClosed\">\r\n            <!-- 内容主体区域 -->\r\n            <el-form :model=\"addForm\" :rules=\"addFormRules\" ref=\"addFormRef\" label-width=\"70px\">\r\n                <!-- 运动名称 -->\r\n                <el-row>\r\n                    <el-col :span=\"12\">\r\n                        <el-form-item label=\"运动名称\" prop=\"name\">\r\n                            <el-input v-model=\"addForm.name\"/>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                    <el-col :span=\"12\">\r\n                        <el-form-item label=\"适用年龄\" prop=\"applicableAge\">\r\n                            <el-input v-model=\"addForm.applicableAge\"/>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                </el-row>\r\n                <el-form-item label=\"受益部位\" prop=\"beneficialPosition\">\r\n                    <el-input v-model=\"addForm.beneficialPosition\"/>\r\n                </el-form-item>\r\n                <el-form-item label=\"运动简介\">\r\n                    <!-- 该属性可设置主题 theme=\"light\" -->\r\n                    <mavon-editor ref=\"md\" v-model=\"addForm.introduction\" @imgAdd=\"uploadImg\"></mavon-editor>\r\n                </el-form-item>\r\n            </el-form>\r\n            <!-- 内容底部区域 -->\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"addDialogVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"addBtn\">确 定</el-button>\r\n            </span>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            queryInfo: {\r\n                pageNumber: 1,\r\n                pageSize: 5,\r\n                queryString: ''\r\n            },\r\n            tableData: [], //数据列表\r\n            total: 0, //数据总记录数\r\n            addDialogVisible: false, //默认屏蔽添加对话框\r\n            addForm: {},\r\n            //添加运动信息的校验规则\r\n            addFormRules:{}, \r\n        }\r\n    },\r\n    created() {\r\n        this.findPage();\r\n    },\r\n    methods: {\r\n        //异步加载\r\n        async findPage() {\r\n            this.$ajax.post('/sport/findPage', this.queryInfo).then((res) => {\r\n                if (!res.data.flag) return this.$message.error(res.data.message);\r\n                //给列表赋值\r\n                this.tableData = res.data.data.rows;\r\n                this.total = res.data.data.total;\r\n            }).catch((err) => {\r\n                if (err.request.status == 400) return this.$message.warning('请求错误！');\r\n                if (err.request.status == 500) return this.$message.warning('数据请求失败，请稍后再试！');\r\n            });\r\n        },\r\n        //页数发生编码\r\n        handleSizeChange(newPageSize) {\r\n            this.queryInfo.pageSize = newPageSize;\r\n            this.findPage();\r\n        },\r\n        //页码发生变化\r\n        handleCurrentChange(newPageNumber) {\r\n            this.queryInfo.pageNumber = newPageNumber;\r\n            this.findPage();\r\n        },\r\n        addDialogClosed() {\r\n            //清空数据\r\n            this.addForm = {};\r\n            this.$refs.addFormRef.resetFields();// 重置表单\r\n        },\r\n        //图片选择校验\r\n        imageValidate(file) {\r\n            if (file.type != 'image/jpeg' && file.type != 'image/png') {\r\n                this.$message.warning('文件仅支持PNG、JP格式！');\r\n                return false;\r\n            }\r\n            if (file.size / 1024 / 1024 > 3) {\r\n                this.$message.warning('图片大小不能超过 3MB！')\r\n                return false;\r\n            }\r\n            return true;\r\n        },\r\n        //编辑器图片上传\r\n        uploadImg(pos, file) {\r\n            console.log(this.imageFiles);\r\n            if (this.imageValidate(file)) {\r\n                // let formData = new FormData();\r\n                // formData.append('image', file);\r\n                // //图片上传 url data headers\r\n                // this.$ajax.post('/upload/markdown', formData, { 'Content-Type': 'multipart/form-data' }).then((res) => {\r\n                //     if (!res.data.flag) return this.$message.error(res.data.message);\r\n                //     //回显\r\n                //     this.$refs.md.$img2Url(pos, 'http://qrn83ytxn.hn-bkt.clouddn.com/' + res.data.data);\r\n                // });\r\n            } else {\r\n                console.log(this.$refs.md);\r\n            }\r\n        },\r\n        //添加运动信息\r\n        addBtn() {\r\n            this.$refs.addFormRef.validate((valid) => {\r\n                if (!valid) return this.$message.error('数据校验失败！');\r\n\r\n            });\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .demo-table-expand {\r\n    font-size: 0;\r\n  }\r\n  .demo-table-expand label {\r\n    width: 90px;\r\n    color: #99a9bf;\r\n  }\r\n  .demo-table-expand .el-form-item {\r\n    margin-right: 0;\r\n    margin-bottom: 0;\r\n    width: 50%;\r\n  }\r\n</style>"]}]}