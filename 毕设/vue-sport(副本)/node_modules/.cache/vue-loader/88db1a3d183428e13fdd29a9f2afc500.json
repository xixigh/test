{"remainingRequest":"C:\\Java\\Java-Code\\healthy\\vue-healthy\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Java\\Java-Code\\healthy\\vue-healthy\\src\\views\\sport\\food\\Food.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Java\\Java-Code\\healthy\\vue-healthy\\src\\views\\sport\\food\\Food.vue","mtime":1625906795120},{"path":"C:\\Java\\Java-Code\\healthy\\vue-healthy\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Java\\Java-Code\\healthy\\vue-healthy\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Java\\Java-Code\\healthy\\vue-healthy\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Java\\Java-Code\\healthy\\vue-healthy\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIHByb3BzOiBbJ2FjdGl2ZSddLAogICAgd2F0Y2g6IHsKICAgICAgICBhY3RpdmU6IHsKICAgICAgICAgICAgaGFuZGxlcih2YWwsIG9sZCkgewogICAgICAgICAgICAgICAgaWYgKHZhbCA9PT0gJzEnKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5maW5kUGFnZSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICAvL+WIneWni+WMluS+pua1iwogICAgICAgICAgICBpbW1lZGlhdGU6IHRydWUKICAgICAgICB9CiAgICB9LAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBxdWVyeUluZm86IHsKICAgICAgICAgICAgICAgIHF1ZXJ5U3RyaW5nOiAnJywKICAgICAgICAgICAgICAgIHBhZ2VOdW1iZXI6IDEsCiAgICAgICAgICAgICAgICBwYWdlU2l6ZTogNQogICAgICAgICAgICB9LAogICAgICAgICAgICAvL+ihqOagvOaVsOaNruW6kwogICAgICAgICAgICB0YWJsZUxpc3Q6IFtdLAogICAgICAgICAgICAvL+aAu+iusOW9leaVsAogICAgICAgICAgICB0b3RhbDogMCwKICAgICAgICAgICAgLy/lr7nor53moYbnirbmgIEKICAgICAgICAgICAgb3BlbjogZmFsc2UsCiAgICAgICAgICAgIC8v5Zu+54mH5a+56K+d5qGGCiAgICAgICAgICAgIHBpY0RpYWxvZzogZmFsc2UsCiAgICAgICAgICAgIC8v5a+56K+d5qGG5qCH6aKYCiAgICAgICAgICAgIHRpdGxlOiAnJywKICAgICAgICAgICAgLy/ooajljZUKICAgICAgICAgICAgZGF0YUZvcm06IHt9LAogICAgICAgICAgICAvL+mjn+eJqeexu+WIqwogICAgICAgICAgICBmb29kVHlwZTogW10sCiAgICAgICAgICAgIC8v5LiK5Lyg5Zyw5Z2ACiAgICAgICAgICAgIHVwbG9hZFVybDogJy91cGxvYWQvd2ViVXBsb2FkJywKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbiA6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLy/lm77niYfliJfooagKICAgICAgICAgICAgZmlsZUxpc3Q6IFtdLAogICAgICAgICAgICAvL+S4iuS8oOaWh+S7tuWQjQogICAgICAgICAgICBmaWxlTmFtZXM6IFtdLAogICAgICAgICAgICAvL+ihqOagvOWKoOi9vQogICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgICAgICAgcnVsZXNEYXRhRm9ybTogewogICAgICAgICAgICAgICAgdGl0bGU6IFsKICAgICAgICAgICAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36L6T5YWl6I+c5ZOB5YiG57G75ZCN56ewIiwgdHJpZ2dlcjogImJsdXIiIH0sCiAgICAgICAgICAgICAgICAgICAgeyBtaW46IDEsIG1heDogNTAsIG1lc3NhZ2U6ICLplb/luqblnKggMSDliLAgNTAg5Liq5a2X56ymIiwgdHJpZ2dlcjogImJsdXIiIH0sCiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgdHlwZUlkOiBbCiAgICAgICAgICAgICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+mAieaLqemjn+eJqeexu+WIqyIsIHRyaWdnZXI6ICJjaGFuZ2UiIH0sCiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgbnV0cmllbnQ6IFsKICAgICAgICAgICAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36L6T5YWl6JCl5YW75YWD57Sg77yM5aaC77ya5q+PMTAwZ+OAgeavjzHmna/jgIHmr48x56KXIiwgdHJpZ2dlcjogImJsdXIiIH0sCiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgZmF0OiBbCiAgICAgICAgICAgICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+i+k+WFpeiEguiCqu+8jOWNleS9jShnKSIsIHRyaWdnZXI6ICJibHVyIiB9LAogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIGNhcmJvbldhdGVyOiBbCiAgICAgICAgICAgICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+i+k+WFpeeis+awtOWMluWQiOeJqe+8jOWNleS9jShnKSIsIHRyaWdnZXI6ICJibHVyIiB9LAogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIHByb3RlaW46IFsKICAgICAgICAgICAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36L6T5YWl6JuL55m96LSo77yM5Y2V5L2NKGcpIiwgdHJpZ2dlcjogImJsdXIiIH0sCiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICB9LAogICAgICAgICAgICAvL+WvvOWFpeWcsOWdgAogICAgICAgICAgICBpbXBvcnRVcmw6ICcvZm9vZC9iYXRjaEltcG9ydCcsCiAgICAgICAgICAgIC8v6aKE6KeI5Zu+54mH5Zyw5Z2ACiAgICAgICAgICAgIGRpYWxvZ0ltYWdlVXJsOiAnJywKICAgICAgICB9CiAgICB9LAogICAgY3JlYXRlZCgpIHsKICAgICAgICAvKiog5Yid5aeL5YyW5p+l6K+i6I+c5ZOB5YiG57G7ICovCiAgICAgICAgdGhpcy4kYWpheC5nZXQoJy9mb29kL3R5cGVBbGwnKS50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgaWYgKCFyZXMuZGF0YS5mbGFnKSByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMuZGF0YS5tZXNzYWdlKTsKICAgICAgICAgICAgdGhpcy5mb29kVHlwZSA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgfSk7CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGZpbmRQYWdlKCkgewogICAgICAgICAgICB0aGlzLiRhamF4LnBvc3QoJy9mb29kL2ZpbmRQYWdlJywgdGhpcy5xdWVyeUluZm8pLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgICAgICAgIGlmICghcmVzLmRhdGEuZmxhZykgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLmRhdGEubWVzc2FnZSk7CiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlTGlzdCA9IHJlcy5kYXRhLmRhdGEucm93czsKICAgICAgICAgICAgICAgIHRoaXMudG90YWwgPSByZXMuZGF0YS5kYXRhLnRvdGFsOwogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGhhbmRsZVNpemVDaGFuZ2UobmV3UGFnZVNpemUpIHsKICAgICAgICAgICAgdGhpcy5xdWVyeUluZm8ucGFnZVNpemUgPSBuZXdQYWdlU2l6ZTsKICAgICAgICAgICAgdGhpcy5maW5kUGFnZSgpOwogICAgICAgIH0sCiAgICAgICAgaGFuZGxlQ3VycmVudENoYW5nZShuZXdQYWdlTnVtYmVyKSB7CiAgICAgICAgICAgIHRoaXMucXVlcnlJbmZvLnBhZ2VOdW1iZXIgPSBuZXdQYWdlTnVtYmVyOwogICAgICAgICAgICB0aGlzLmZpbmRQYWdlKCk7CiAgICAgICAgfSwKICAgICAgICBhZGRTaG93KCkgewogICAgICAgICAgICB0aGlzLmZpbGVOYW1lcyA9IFtdOwogICAgICAgICAgICB0aGlzLmZpbGVMaXN0ID0gW107CiAgICAgICAgICAgIHRoaXMudGl0bGUgPSAn5paw5aKeJzsKICAgICAgICAgICAgdGhpcy5kYXRhRm9ybSA9IHt9OwogICAgICAgICAgICB0aGlzLm9wZW4gPSB0cnVlOwogICAgICAgIH0sCiAgICAgICAgZWRpdERpYWxvZyhyb3cpIHsKICAgICAgICAgICAgdGhpcy5kYXRhRm9ybSA9IHt9OwogICAgICAgICAgICB0aGlzLmZpbGVOYW1lcyA9IFtdOwogICAgICAgICAgICB0aGlzLmZpbGVMaXN0ID0gW107CiAgICAgICAgICAgIGlmIChyb3cuaW1hZ2VVcmxzKSB7CiAgICAgICAgICAgICAgICBsZXQgdXJscyA9IHJvdy5pbWFnZVVybHMuc3BsaXQoJywnKTsKICAgICAgICAgICAgICAgIHVybHMuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgICAgICAgICAgICBsZXQgdXJsID0ge3VybDogdGhpcy4kcWlsaXUgKyBpdGVtfTsKICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbGVMaXN0LnB1c2godXJsKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbGVOYW1lcy5wdXNoKGl0ZW0pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy50aXRsZSA9ICfkv67mlLknOwogICAgICAgICAgICB0aGlzLmRhdGFGb3JtID0gcm93OwogICAgICAgICAgICB0aGlzLm9wZW4gPSB0cnVlOwogICAgICAgIH0sCiAgICAgICAgZGVsZXRlQnlJZChpZCkgewogICAgICAgICAgICB0aGlzLiRjb25maXJtKCfmraTmk43kvZzlsIbmsLjkuYXliKDpmaRJROS4uiAnKyBpZCArJyDnmoTkv6Hmga8sIOaYr+WQpue7p+e7rT8nLCAn5o+Q56S6JywgewogICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICAvL2RlbGV0Zeivt+axgumBteW+qnJlc3RmdWzpo47moLwKICAgICAgICAgICAgICAgIHRoaXMuJGFqYXguZGVsZXRlKGAvZm9vZC9kZWxldGUvJHtpZH1gKS50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoIXJlcy5kYXRhLmZsYWcpIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5kYXRhLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMuZGF0YS5tZXNzYWdlKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbmRQYWdlKCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgICAgICAgICAgLy8g5oiQ5Yqf5Yig6Zmk5Li6Y29uZmlybSDlj5bmtojkuLogY2FuY2VsCiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5pbmZvKCLmk43kvZzlt7Llj5bmtogiKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICAvL+enu+mZpOS4iuS8oOeahOWbvueJhwogICAgICAgIGhhbmRsZVJlbW92ZShmaWxlLCBmaWxlTGlzdCkgewogICAgICAgICAgICBjb25zb2xlLmxvZyhmaWxlTGlzdCk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdiZWZvcmUgLS0+ICcgKyB0aGlzLmZpbGVOYW1lcyk7CiAgICAgICAgICAgIHRoaXMuZmlsZU5hbWVzLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7CiAgICAgICAgICAgICAgICBpZiAoZmlsZS5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIGlmIChpdGVtID09PSBmaWxlLnJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5maWxlTmFtZXMuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRoaXMuZmlsZU5hbWVzID0gW107CiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5maWxlTmFtZXMucHVzaCgpOwogICAgICAgICAgICAgICAgICAgIGZpbGVMaXN0LmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuYW1lID0gaXRlbS51cmwuc3Vic3RyaW5nKGl0ZW0udXJsLmxhc3RJbmRleE9mKCcvJykgKyAxKTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5maWxlTmFtZXMucHVzaChuYW1lKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjb25zb2xlLmxvZygnYWZ0ZXIgLS0+ICcgKyB0aGlzLmZpbGVOYW1lcyk7CiAgICAgICAgfSwKICAgICAgICAvL+mihOiniOS4iuS8oOeahOWbvueJhwogICAgICAgIGhhbmRsZVByZXZpZXcoZmlsZSkgewogICAgICAgICAgICB0aGlzLmRpYWxvZ0ltYWdlVXJsID0gZmlsZS51cmw7CiAgICAgICAgICAgIHRoaXMucGljRGlhbG9nID0gdHJ1ZTsKICAgICAgICB9LAogICAgICAgIC8qKiDkuIrkvKDkuYvliY0gKi8KICAgICAgICBoYW5kbGVCZWZvcmUoZmlsZSkgewogICAgICAgICAgICBsZXQgZmlsZXMgPSB0aGlzLiRyZWZzLmltZ3MudXBsb2FkRmlsZXM7CiAgICAgICAgICAgIGlmIChmaWxlcy5sZW5ndGggPiAzKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+acgOWkmuS4iuS8oDPlvKDlm77niYflk5/vvIEnKTsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgLyoqIOS4iuS8oOaIkOWKnyAqLwogICAgICAgIGhhbmRsZVN1Y2Nlc3MocmVzLCBmaWxlLCBmaWxlTGlzdCkgewogICAgICAgICAgICB0aGlzLmZpbGVOYW1lcy5wdXNoKHJlcy5kYXRhKTsKICAgICAgICB9LAogICAgICAgIGRpYWxvZ0Nsb3NlZCgpIHsKICAgICAgICAgICAgdGhpcy5maWxlTmFtZXMgPSBbXTsKICAgICAgICAgICAgLy/muIXnqbrooajljZUKICAgICAgICAgICAgdGhpcy4kcmVmcy5kYXRhRm9ybS5yZXNldEZpZWxkcygpOwogICAgICAgIH0sCiAgICAgICAgY2xpY2tDYW5jZWwoKSB7CiAgICAgICAgICAgIHRoaXMuZGlhbG9nQ2xvc2VkKCk7CiAgICAgICAgICAgIHRoaXMub3BlbiA9IGZhbHNlOwogICAgICAgIH0sCiAgICAgICAgY2xpY2tPaygpIHsKICAgICAgICAgICAgLy/ooajljZXmoKHpqowKICAgICAgICAgICAgdGhpcy4kcmVmcy5kYXRhRm9ybS52YWxpZGF0ZSgodmFsaWQpID0+IHsKICAgICAgICAgICAgICAgIGlmICghdmFsaWQpIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCfooajljZXmoKHpqozkuI3pgJrov4fvvIzor7forqTnnJ/loavlhpnlkI7mj5DkuqTvvIEnKTsKICAgICAgICAgICAgICAgIC8v5qCh6aqM6YCa6L+H6aqM6K+B5Zu+54mH5piv5ZCm5LiK5LygCiAgICAgICAgICAgICAgICBpZiAodGhpcy5maWxlTmFtZXMubGVuZ3RoIDwgMSkgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+ivt+S4iuS8oOmjn+eJqeWbvueJh++8jOiHs+WwkeS4gOW8oO+8jOiHs+WkmjTlvKDvvIEnKTsKICAgICAgICAgICAgICAgIHRoaXMuZGF0YUZvcm0uaW1hZ2VVcmxzID0gdGhpcy5maWxlTmFtZXMuam9pbignLCcpOwogICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIC8v5Yik5pat5piv5L+u5pS56L+Y5piv5re75YqgCiAgICAgICAgICAgICAgICBpZiAodGhpcy5kYXRhRm9ybS5pZCA9PT0gbnVsbCB8fCB0aGlzLmRhdGFGb3JtLmlkID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgICAvL+a3u+WKoAogICAgICAgICAgICAgICAgICAgIHRoaXMuJGFqYXgucG9zdCgnL2Zvb2QvaW5zZXJ0JywgdGhpcy5kYXRhRm9ybSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzLmRhdGEuZmxhZykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCA2MDAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5kYXRhLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3BlbiA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHJlcy5kYXRhLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbmRQYWdlKCk7CiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB9LCA2MDAwKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgLy/kv67mlLkKICAgICAgICAgICAgICAgICAgICB0aGlzLiRhamF4LnBvc3QoJy9mb29kL3VwZGF0ZScsIHRoaXMuZGF0YUZvcm0pLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlcy5kYXRhLmZsYWcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgNjAwMCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMuZGF0YS5tZXNzYWdlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9wZW4gPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMuZGF0YS5tZXNzYWdlKTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5maW5kUGFnZSgpOwogICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgfSwgNjAwMCk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgLy/mibnph4/lr7zlhaXkuYvliY0KICAgICAgICBiZWZvcmVVcGxvYWQoZmlsZSkgewogICAgICAgICAgICBsZXQgZmlsZU5hbWUgPSBmaWxlLm5hbWU7CiAgICAgICAgICAgIGxldCBzdWZmaXggPSBmaWxlTmFtZS5zdWJzdHJpbmcoZmlsZU5hbWUubGFzdEluZGV4T2YoJy4nKSArIDEpOwogICAgICAgICAgICBpZiAoc3VmZml4ICE9PSAneGxzJyAmJiBzdWZmaXggIT09ICd4bHN4JykgewogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfor7fpgInmi6lFeGNlbOaWh+S7tu+8jOi/m+ihjOWvvOWFpScpOwogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBpbXBvcnRTdWNjZXNzKHJlcywgZmlsZSkgewogICAgICAgICAgICBpZiAoIXJlcy5mbGFnKSByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubWVzc2FnZSk7CiAgICAgICAgICAgIC8v5a+85YWl5oiQ5YqfCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubWVzc2FnZSk7CiAgICAgICAgICAgIHRoaXMuZmluZFBhZ2UoKTsKICAgICAgICB9LAogICAgICAgIC8v6aKE6KeI5Zu+54mH5YiX6KGoCiAgICAgICAgcHJldmlld0ltYWdlcyhsaXN0KSB7CiAgICAgICAgICAgIGxldCBhcnIgPSBbXTsKICAgICAgICAgICAgbGlzdC5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgICAgICBhcnIucHVzaCh0aGlzLiRxaWxpdSArIGl0ZW0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIGFycjsKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["Food.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Food.vue","sourceRoot":"src/views/sport/food","sourcesContent":["<template>\r\n    <div>\r\n        <el-card>\r\n            <el-row :gutter=\"25\">\r\n                <el-col :span=\"10\">\r\n                    <!-- 搜索添加 -->\r\n                    <el-input placeholder=\"请输入搜索内容\" v-model=\"queryInfo.queryString\" clearable @clear=\"findPage\">\r\n                        <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"findPage\"/>\r\n                    </el-input>\r\n                </el-col>\r\n                <el-col :span=\"2\">\r\n                    <el-button type=\"primary\" @click=\"addShow\" v-hasPermi=\"['ADD_FOOD']\">添加食物</el-button>\r\n                </el-col>\r\n                <el-col :span=\"2\" v-has-role=\"['ROLE_ADMIN']\">\r\n                    <el-upload\r\n                            :action=\"importUrl\"\r\n                            :headers=\"headers\"\r\n                            name=\"file\"\r\n                            :multiple=\"false\"\r\n                            :show-file-list=\"false\"\r\n                            :on-success=\"importSuccess\"\r\n                            :before-upload=\"beforeUpload\">\r\n                        <el-button type=\"warning\">批量导入</el-button>\r\n                    </el-upload>\r\n                </el-col>\r\n            </el-row>\r\n            <!-- 用户列表 -->\r\n            <el-table :data=\"tableList\" border stripe>\r\n                <el-table-column type=\"index\" label=\"序号\"/>\r\n                <el-table-column label=\"食物名称\" prop=\"title\"/>\r\n                <el-table-column label=\"食物类别\" prop=\"typeId\"/>\r\n                <el-table-column label=\"缩略图\" align=\"center\" width=\"130\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-image\r\n                            v-if=\"scope.row.imageUrls\"\r\n                            style=\"width: 100px; height: 100px\"\r\n                            :src=\"$qiliu + scope.row.imageUrls.split(',')[0]\"\r\n                            :preview-src-list=\"previewImages(scope.row.imageUrls.split(','))\"/>\r\n                        <el-image\r\n                            v-if=\"!scope.row.imageUrls\"\r\n                            style=\"width: 100px; height: 100px\"\r\n                            src=\"\"/>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"营养元素\" prop=\"nutrient\"/>\r\n                <el-table-column label=\"热量\" prop=\"heat\"/>\r\n                <el-table-column label=\"蛋白质\" prop=\"protein\"/>\r\n                <el-table-column label=\"脂肪\" prop=\"fat\"/>\r\n                <el-table-column label=\"碳水化合物\" prop=\"carbonWater\"/>\r\n                <el-table-column label=\"膳食纤维\" prop=\"dietaryFiber\"/>\r\n                <el-table-column label=\"维生素A\" prop=\"vitaminA\"/>\r\n                <el-table-column label=\"维生素C\" prop=\"vitaminC\"/>\r\n                <el-table-column label=\"维生素E\" prop=\"vitaminE\"/>\r\n                <el-table-column label=\"胡萝卜素\" prop=\"carrot\"/>\r\n                <el-table-column label=\"维生素B1\" prop=\"vitaminB1\"/>\r\n                <el-table-column label=\"维生素B2\" prop=\"vitaminB2\"/>\r\n                <el-table-column label=\"烟酸\" prop=\"niacin\"/>\r\n                <el-table-column label=\"胆固醇\" prop=\"cholesterol\"/>\r\n                <el-table-column label=\"镁\" prop=\"magnesium\"/>\r\n                <el-table-column label=\"铁\" prop=\"iron\"/>\r\n                <el-table-column label=\"钙\" prop=\"calcium\"/>\r\n                <el-table-column label=\"锌\" prop=\"zinc\"/>\r\n                <el-table-column label=\"铜\" prop=\"copper\"/>\r\n                <el-table-column label=\"锰\" prop=\"manganese\"/>\r\n                <el-table-column label=\"钾\" prop=\"potassium\"/>\r\n                <el-table-column label=\"磷\" prop=\"phosphorus\"/>\r\n                <el-table-column label=\"钠\" prop=\"sodium\"/>\r\n                <el-table-column label=\"硒\" prop=\"selenium\"/>\r\n                <el-table-column label=\"操作\" width=\"120\" fixed=\"right\">\r\n                    <template slot-scope=\"scope\">\r\n                        <!-- 修改 -->\r\n                        <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\" @click=\"editDialog(scope.row)\"/>\r\n                        <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\" @click=\"deleteById(scope.row.id)\"/>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n            <!-- 分页 -->\r\n            <el-pagination\r\n                    @size-change=\"handleSizeChange\"\r\n                    @current-change=\"handleCurrentChange\"\r\n                    :current-page=\"queryInfo.pageNumber\"\r\n                    :page-sizes=\"[5, 10, 20, 50]\"\r\n                    :page-size=\"queryInfo.pageSize\"\r\n                    layout=\"total, sizes, prev, pager, next, jumper\"\r\n                    :total=\"total\"/>\r\n\r\n            <!-- 对话框 -->\r\n            <el-dialog :title=\"title\" v-loading=\"loading\" :visible.sync=\"open\" width=\"60%\" @colse=\"dialogClosed\">\r\n                <el-form :model=\"dataForm\" :rules=\"rulesDataForm\" ref=\"dataForm\" label-width=\"100px\">\r\n                    <el-row>\r\n                        <el-col :span=\"8\">\r\n                            <el-form-item label=\"食物名称\" prop=\"title\">\r\n                                <el-input\r\n                                    v-model=\"dataForm.title\"\r\n                                    type=\"textarea\"\r\n                                    autosize/>\r\n                            </el-form-item>\r\n                        </el-col>\r\n                        <el-col :span=\"8\">\r\n                            <el-form-item label=\"食物类别\" prop=\"typeId\">\r\n                                <el-select placeholder=\"请选择食物类别\" style=\"width: 100%\" v-model=\"dataForm.typeId\" clearable>\r\n                                    <el-option\r\n                                            v-for=\"item in foodType\"\r\n                                            :key=\"item.id\"\r\n                                            :label=\"item.title\"\r\n                                            :value=\"item.id\"/>\r\n                                </el-select>\r\n                            </el-form-item>\r\n                        </el-col>\r\n                        <el-col :span=\"8\">\r\n                            <el-form-item label=\"营养元素\" prop=\"nutrient\">\r\n                                <el-input v-model=\"dataForm.nutrient\"/>\r\n                            </el-form-item>\r\n                        </el-col>\r\n                    </el-row>\r\n                    <el-form-item label=\"食物图片\" prop=\"imageUrl\">\r\n                        <el-upload\r\n                            list-type=\"picture-card\"\r\n                            :on-preview=\"handlePreview\"\r\n                            ref=\"imgs\"\r\n                            :action=\"uploadUrl\"\r\n                            :headers=\"headers\"\r\n                            :on-remove=\"handleRemove\"\r\n                            :before-upload=\"handleBefore\"\r\n                            :on-success=\"handleSuccess\"\r\n                            :file-list=\"fileList\">\r\n                            <i class=\"el-icon-plus\"/>\r\n                        </el-upload>\r\n                    </el-form-item>\r\n                    <el-row>\r\n                        <el-col :span=\"8\">\r\n                            <el-form-item label=\"蛋白质\" prop=\"protein\">\r\n                                <el-input v-model=\"dataForm.protein\"/>\r\n                            </el-form-item>\r\n                        </el-col>\r\n                        <el-col :span=\"8\">\r\n                            <el-form-item label=\"脂肪\" prop=\"fat\">\r\n                                <el-input v-model=\"dataForm.fat\"/>\r\n                            </el-form-item>\r\n                        </el-col>\r\n                        <el-col :span=\"8\">\r\n                            <el-form-item label=\"碳水化合物\" prop=\"carbonWater\">\r\n                                <el-input v-model=\"dataForm.carbonWater\"/>\r\n                            </el-form-item>\r\n                        </el-col>\r\n                    </el-row>\r\n                    <el-row>\r\n                        <el-col :span=\"8\">\r\n                            <el-form-item label=\"热量\" prop=\"heat\">\r\n                                <el-input v-model=\"dataForm.heat\"/>\r\n                            </el-form-item>\r\n                        </el-col>\r\n                        <el-col :span=\"8\">\r\n                            <el-form-item label=\"膳食纤维\" prop=\"dietaryFiber\">\r\n                                <el-input v-model=\"dataForm.dietaryFiber\"/>\r\n                            </el-form-item>\r\n                        </el-col>\r\n                        <el-col :span=\"8\">\r\n                            <el-form-item label=\"维生素A\" prop=\"vitaminA\">\r\n                                <el-input v-model=\"dataForm.vitaminA\"/>\r\n                            </el-form-item>\r\n                        </el-col>\r\n                    </el-row>\r\n                    <el-row>\r\n                        <el-col :span=\"8\">\r\n                            <el-form-item label=\"维生素C\" prop=\"vitaminC\">\r\n                                <el-input v-model=\"dataForm.vitaminC\"/>\r\n                            </el-form-item>\r\n                        </el-col>\r\n                        <el-col :span=\"8\">\r\n                            <el-form-item label=\"维生素E\" prop=\"vitaminE\">\r\n                                <el-input v-model=\"dataForm.vitaminE\"/>\r\n                            </el-form-item>\r\n                        </el-col>\r\n                        <el-col :span=\"8\">\r\n                            <el-form-item label=\"胡萝卜素\" prop=\"carrot\">\r\n                                <el-input v-model=\"dataForm.carrot\"/>\r\n                            </el-form-item>\r\n                        </el-col>\r\n                    </el-row>\r\n                    <el-row>\r\n                        <el-col :span=\"8\">\r\n                            <el-form-item label=\"维生素B1\" prop=\"vitaminB2\">\r\n                                <el-input v-model=\"dataForm.vitaminB2\"/>\r\n                            </el-form-item>\r\n                        </el-col>\r\n                        <el-col :span=\"8\">\r\n                            <el-form-item label=\"维生素B2\" prop=\"vitaminE\">\r\n                                <el-input v-model=\"dataForm.vitaminE\"/>\r\n                            </el-form-item>\r\n                        </el-col>\r\n                        <el-col :span=\"8\">\r\n                            <el-form-item label=\"烟酸\" prop=\"niacin\">\r\n                                <el-input v-model=\"dataForm.niacin\"/>\r\n                            </el-form-item>\r\n                        </el-col>\r\n                    </el-row>\r\n                    <el-row>\r\n                        <el-col :span=\"8\">\r\n                            <el-form-item label=\"胆固醇\" prop=\"cholesterol\">\r\n                                <el-input v-model=\"dataForm.cholesterol\"/>\r\n                            </el-form-item>\r\n                        </el-col>\r\n                        <el-col :span=\"8\">\r\n                            <el-form-item label=\"镁\" prop=\"magnesium\">\r\n                                <el-input v-model=\"dataForm.magnesium\"/>\r\n                            </el-form-item>\r\n                        </el-col>\r\n                        <el-col :span=\"8\">\r\n                            <el-form-item label=\"铁\" prop=\"iron\">\r\n                                <el-input v-model=\"dataForm.iron\"/>\r\n                            </el-form-item>\r\n                        </el-col>\r\n                    </el-row>\r\n                    <el-row>\r\n                        <el-col :span=\"8\">\r\n                            <el-form-item label=\"钙\" prop=\"calcium\">\r\n                                <el-input v-model=\"dataForm.calcium\"/>\r\n                            </el-form-item>\r\n                        </el-col>\r\n                        <el-col :span=\"8\">\r\n                            <el-form-item label=\"锌\" prop=\"zinc\">\r\n                                <el-input v-model=\"dataForm.zinc\"/>\r\n                            </el-form-item>\r\n                        </el-col>\r\n                        <el-col :span=\"8\">\r\n                            <el-form-item label=\"铜\" prop=\"copper\">\r\n                                <el-input v-model=\"dataForm.copper\"/>\r\n                            </el-form-item>\r\n                        </el-col>\r\n                    </el-row>\r\n                    <el-row>\r\n                        <el-col :span=\"8\">\r\n                            <el-form-item label=\"锰\" prop=\"manganese\">\r\n                                <el-input v-model=\"dataForm.manganese\"/>\r\n                            </el-form-item>\r\n                        </el-col>\r\n                        <el-col :span=\"8\">\r\n                            <el-form-item label=\"钾\" prop=\"potassium\">\r\n                                <el-input v-model=\"dataForm.potassium\"/>\r\n                            </el-form-item>\r\n                        </el-col>\r\n                        <el-col :span=\"8\">\r\n                            <el-form-item label=\"磷\" prop=\"phosphorus\">\r\n                                <el-input v-model=\"dataForm.phosphorus\"/>\r\n                            </el-form-item>\r\n                        </el-col>\r\n                    </el-row>\r\n                    <el-row>\r\n                        <el-col :span=\"8\">\r\n                            <el-form-item label=\"钠\" prop=\"sodium\">\r\n                                <el-input v-model=\"dataForm.sodium\"/>\r\n                            </el-form-item>\r\n                        </el-col>\r\n                        <el-col :span=\"8\">\r\n                            <el-form-item label=\"硒\" prop=\"selenium\">\r\n                                <el-input v-model=\"dataForm.selenium\"/>\r\n                            </el-form-item>\r\n                        </el-col>\r\n                    </el-row>\r\n                </el-form>\r\n                <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"clickCancel\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"clickOk\">确 定</el-button>\r\n            </span>\r\n            </el-dialog>\r\n            <!-- 图片预览对话框 -->\r\n            <el-dialog :visible.sync=\"picDialog\">\r\n                <img width=\"100%\" :src=\"dialogImageUrl\"/>\r\n            </el-dialog>\r\n        </el-card>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        props: ['active'],\r\n        watch: {\r\n            active: {\r\n                handler(val, old) {\r\n                    if (val === '1') {\r\n                        this.findPage();\r\n                    }\r\n                },\r\n                //初始化侦测\r\n                immediate: true\r\n            }\r\n        },\r\n        data() {\r\n            return {\r\n                queryInfo: {\r\n                    queryString: '',\r\n                    pageNumber: 1,\r\n                    pageSize: 5\r\n                },\r\n                //表格数据库\r\n                tableList: [],\r\n                //总记录数\r\n                total: 0,\r\n                //对话框状态\r\n                open: false,\r\n                //图片对话框\r\n                picDialog: false,\r\n                //对话框标题\r\n                title: '',\r\n                //表单\r\n                dataForm: {},\r\n                //食物类别\r\n                foodType: [],\r\n                //上传地址\r\n                uploadUrl: '/upload/webUpload',\r\n                headers: {\r\n                    Authorization : sessionStorage.getItem('token')\r\n                },\r\n                //图片列表\r\n                fileList: [],\r\n                //上传文件名\r\n                fileNames: [],\r\n                //表格加载\r\n                loading: false,\r\n                rulesDataForm: {\r\n                    title: [\r\n                        { required: true, message: \"请输入菜品分类名称\", trigger: \"blur\" },\r\n                        { min: 1, max: 50, message: \"长度在 1 到 50 个字符\", trigger: \"blur\" },\r\n                    ],\r\n                    typeId: [\r\n                        { required: true, message: \"请选择食物类别\", trigger: \"change\" },\r\n                    ],\r\n                    nutrient: [\r\n                        { required: true, message: \"请输入营养元素，如：每100g、每1杯、每1碗\", trigger: \"blur\" },\r\n                    ],\r\n                    fat: [\r\n                        { required: true, message: \"请输入脂肪，单位(g)\", trigger: \"blur\" },\r\n                    ],\r\n                    carbonWater: [\r\n                        { required: true, message: \"请输入碳水化合物，单位(g)\", trigger: \"blur\" },\r\n                    ],\r\n                    protein: [\r\n                        { required: true, message: \"请输入蛋白质，单位(g)\", trigger: \"blur\" },\r\n                    ],\r\n                },\r\n                //导入地址\r\n                importUrl: '/food/batchImport',\r\n                //预览图片地址\r\n                dialogImageUrl: '',\r\n            }\r\n        },\r\n        created() {\r\n            /** 初始化查询菜品分类 */\r\n            this.$ajax.get('/food/typeAll').then((res) => {\r\n                if (!res.data.flag) return this.$message.error(res.data.message);\r\n                this.foodType = res.data.data;\r\n            });\r\n        },\r\n        methods: {\r\n            findPage() {\r\n                this.$ajax.post('/food/findPage', this.queryInfo).then((res) => {\r\n                    console.log(res);\r\n                    if (!res.data.flag) return this.$message.error(res.data.message);\r\n                    this.tableList = res.data.data.rows;\r\n                    this.total = res.data.data.total;\r\n                });\r\n            },\r\n            handleSizeChange(newPageSize) {\r\n                this.queryInfo.pageSize = newPageSize;\r\n                this.findPage();\r\n            },\r\n            handleCurrentChange(newPageNumber) {\r\n                this.queryInfo.pageNumber = newPageNumber;\r\n                this.findPage();\r\n            },\r\n            addShow() {\r\n                this.fileNames = [];\r\n                this.fileList = [];\r\n                this.title = '新增';\r\n                this.dataForm = {};\r\n                this.open = true;\r\n            },\r\n            editDialog(row) {\r\n                this.dataForm = {};\r\n                this.fileNames = [];\r\n                this.fileList = [];\r\n                if (row.imageUrls) {\r\n                    let urls = row.imageUrls.split(',');\r\n                    urls.forEach(item => {\r\n                        let url = {url: this.$qiliu + item};\r\n                        this.fileList.push(url);\r\n                        this.fileNames.push(item);\r\n                    });\r\n                }\r\n                this.title = '修改';\r\n                this.dataForm = row;\r\n                this.open = true;\r\n            },\r\n            deleteById(id) {\r\n                this.$confirm('此操作将永久删除ID为 '+ id +' 的信息, 是否继续?', '提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'warning'\r\n                }).then(() => {\r\n                    //delete请求遵循restful风格\r\n                    this.$ajax.delete(`/food/delete/${id}`).then((res) => {\r\n                        if (!res.data.flag) return this.$message.error(res.data.message);\r\n                        this.$message.success(res.data.message);\r\n                        this.findPage();\r\n                    });\r\n                }).catch(() => {\r\n                    // 成功删除为confirm 取消为 cancel\r\n                    return this.$message.info(\"操作已取消\");\r\n                });\r\n            },\r\n            //移除上传的图片\r\n            handleRemove(file, fileList) {\r\n                console.log(fileList);\r\n                console.log('before --> ' + this.fileNames);\r\n                this.fileNames.forEach((item, index) => {\r\n                    if (file.response) {\r\n                        if (item === file.response.data) {\r\n                            this.fileNames.splice(index, 1);\r\n                        }\r\n                    } else {\r\n                        this.fileNames = [];\r\n                        // this.fileNames.push();\r\n                        fileList.forEach(item => {\r\n                            let name = item.url.substring(item.url.lastIndexOf('/') + 1);\r\n                            this.fileNames.push(name);\r\n                        });\r\n                    }\r\n\r\n                });\r\n                console.log('after --> ' + this.fileNames);\r\n            },\r\n            //预览上传的图片\r\n            handlePreview(file) {\r\n                this.dialogImageUrl = file.url;\r\n                this.picDialog = true;\r\n            },\r\n            /** 上传之前 */\r\n            handleBefore(file) {\r\n                let files = this.$refs.imgs.uploadFiles;\r\n                if (files.length > 3) {\r\n                    this.$message.warning('最多上传3张图片哟！');\r\n                    return false;\r\n                }\r\n            },\r\n            /** 上传成功 */\r\n            handleSuccess(res, file, fileList) {\r\n                this.fileNames.push(res.data);\r\n            },\r\n            dialogClosed() {\r\n                this.fileNames = [];\r\n                //清空表单\r\n                this.$refs.dataForm.resetFields();\r\n            },\r\n            clickCancel() {\r\n                this.dialogClosed();\r\n                this.open = false;\r\n            },\r\n            clickOk() {\r\n                //表单校验\r\n                this.$refs.dataForm.validate((valid) => {\r\n                    if (!valid) return this.$message.error('表单校验不通过，请认真填写后提交！');\r\n                    //校验通过验证图片是否上传\r\n                    if (this.fileNames.length < 1) return this.$message.error('请上传食物图片，至少一张，至多4张！');\r\n                    this.dataForm.imageUrls = this.fileNames.join(',');\r\n                    this.loading = true;\r\n                    //判断是修改还是添加\r\n                    if (this.dataForm.id === null || this.dataForm.id === undefined) {\r\n                        //添加\r\n                        this.$ajax.post('/food/insert', this.dataForm).then((res) => {\r\n                            if (!res.data.flag) {\r\n                                setTimeout(() => {\r\n                                    this.loading = false;\r\n                                }, 6000);\r\n                                return this.$message.error(res.data.message);\r\n                            }\r\n                            this.open = false;\r\n                            this.loading = false;\r\n                            this.$message.success(res.data.message);\r\n                            this.findPage();\r\n                        }).catch(() => {\r\n                            setTimeout(() => {\r\n                                this.loading = false;\r\n                            }, 6000);\r\n                        });\r\n                    } else {\r\n                        //修改\r\n                        this.$ajax.post('/food/update', this.dataForm).then((res) => {\r\n                            if (!res.data.flag) {\r\n                                setTimeout(() => {\r\n                                    this.loading = false;\r\n                                }, 6000);\r\n                                return this.$message.error(res.data.message);\r\n                            }\r\n                            this.open = false;\r\n                            this.loading = false;\r\n                            this.$message.success(res.data.message);\r\n                            this.findPage();\r\n                        }).catch(() => {\r\n                            setTimeout(() => {\r\n                                this.loading = false;\r\n                            }, 6000);\r\n                        });\r\n                    }\r\n                });\r\n            },\r\n            //批量导入之前\r\n            beforeUpload(file) {\r\n                let fileName = file.name;\r\n                let suffix = fileName.substring(fileName.lastIndexOf('.') + 1);\r\n                if (suffix !== 'xls' && suffix !== 'xlsx') {\r\n                    this.$message.warning('请选择Excel文件，进行导入');\r\n                    return false;\r\n                }\r\n            },\r\n            importSuccess(res, file) {\r\n                if (!res.flag) return this.$message.error(res.message);\r\n                //导入成功\r\n                this.$message.success(res.message);\r\n                this.findPage();\r\n            },\r\n            //预览图片列表\r\n            previewImages(list) {\r\n                let arr = [];\r\n                list.forEach(item => {\r\n                   arr.push(this.$qiliu + item);\r\n                });\r\n                return arr;\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\r\n</style>\r\n"]}]}